# 1) Daten auf Network Storage 
mkdir -p /workspace/.cache/hf /workspace/.cache/tmp
export HF_HOME=/workspace/.cache/hf
export HF_DATASETS_CACHE=/workspace/.cache/hf/datasets
export TMPDIR=/workspace/.cache/tmp
export TEMP=/workspace/.cache/tmp
export TMP=/workspace/.cache/tmp

# 2) Install (wenn noch nicht vorhanden)
pip install -U "lm-eval[vllm]" vllm

# 3) Run 
lm_eval \
  --model vllm \
  --model_args pretrained=swiss-ai/Apertus-8B-2509,tensor_parallel_size=1,gpu_memory_utilization=0.90,max_model_len=8192 \
  --tasks mmlu_pro \
  # Test limitieren --limit 500 \
  --output_path results_mmlu_pro_full_0shot.json \
  # Beispiele speichern --log_samples

